@using DomraSinForms.Application.Questions.Commands.UpdateTextQuestion;
@using DomraSinForms.Domain.Models.Questions;
@model UpdateTextQuestionViewModel

@{
    Model.Command = new UpdateTextQuestionCommand
    {
        Id = Model.Question.Id,
        QuestionText = Model.Question.QuestionText,
        IsRequired = Model.Question.IsRequired,
        Type = Model.Question.Type,
        Index = Model.Question.Index,
    };
    var modalId = $"updateModal{Model.Question.Id}";
}
<button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#@modalId">Edit</button>


<div class="modal" id="@modalId">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-1">

            <div class="modal-body justify-content-center">

                <div class="h2 mb-5 text-center">Edit Question</div>

                <form asp-controller="Questions" asp-action="UpdateTextQuestion" method="post">

                    <input asp-for="Command.Id" value="@Model.Question.Id" hidden />

                    <div class="form-group mb-2">
                        <input class="form-control" type="text" placeholder="Question text" asp-for="Command.QuestionText" />
                        <span asp-validation-for="Command.QuestionText" class="text-danger"></span>
                    </div>

                    <div class="form-check mb-2">
                        <label class="form-check-label">Required</label>
                        <input class="form-check-input" type="checkbox" asp-for="Command.IsRequired" />
                    </div>

                    <div class="form-group mb-2">
                        <label class="form-label">Index</label>
                        <input class="form-control" type="number" asp-for="Command.Index" />
                    </div>
                    
                    <div class="form-group mb-2">
                        <label class="form-label">Question type</label>
                        <select class="form-select" asp-for="Command.Type" asp-items="@(Html.GetEnumSelectList<TextQuestionType>())"></select>
                    </div>

                    <div class="form-group mb-2">
                        <input class="btn btn-primary" type="submit" />
                    </div>

                </form>

            </div>

        </div>
    </div>
</div>